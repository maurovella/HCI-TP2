var _0x59fc=['actionTimerIndex','actionEndBy','get','trunc','info','\x27\x20is\x20already\x20\x27','events','add','push','toString','pow','fromLiter','now','log','close','\x27\x20status\x20to\x20\x27','closed','dispense','timers','open','\x27...','debug','\x27\x20new\x20status\x20is\x20\x27','getDispensedQuantity','exports','statusChanged','status','unitExponent','litersPerSecond','toFixed','toLiter','faucet\x20\x27','unit','devices','state','getState','faucet','opened','changing\x20faucet\x20\x27','quantity'];(function(_0x9e051d,_0x59fc77){var _0x40fbbc=function(_0x2d1df9){while(--_0x2d1df9){_0x9e051d['push'](_0x9e051d['shift']());}};_0x40fbbc(++_0x59fc77);}(_0x59fc,0x8d));var _0x40fb=function(_0x9e051d,_0x59fc77){_0x9e051d=_0x9e051d-0x0;var _0x40fbbc=_0x59fc[_0x9e051d];return _0x40fbbc;};module[_0x40fb('0x3')]={'initialize':function(_0xcc5922,_0x13146c){_0xcc5922[_0x40fb('0xc')][_0x40fb('0xf')]=class{constructor(_0x4392be,_0x11fad3){this['id']=_0x4392be;if(!_0x11fad3||_0x11fad3[_0x40fb('0x14')]&&_0x11fad3[_0x40fb('0x14')]<=Date[_0x40fb('0x1f')]()){this[_0x40fb('0xd')]={'status':_0xcc5922['devices'][_0x40fb('0xf')]['status'][_0x40fb('0x23')],'quantity':null,'unit':null,'actionEndBy':null,'actionTimerIndex':null};}else{this[_0x40fb('0xd')]=_0x11fad3;}}[_0x40fb('0xe')](){if(this[_0x40fb('0xd')][_0x40fb('0x5')]!=_0xcc5922['devices'][_0x40fb('0xf')][_0x40fb('0x5')]['closed']){if(this[_0x40fb('0xd')][_0x40fb('0x14')]){if(this[_0x40fb('0xd')][_0x40fb('0x14')]<=Date[_0x40fb('0x1f')]()){return{'status':_0xcc5922[_0x40fb('0xc')][_0x40fb('0xf')][_0x40fb('0x5')][_0x40fb('0x23')]};}else{return{'status':this[_0x40fb('0xd')][_0x40fb('0x5')],'quantity':this['state'][_0x40fb('0x12')],'unit':this[_0x40fb('0xd')][_0x40fb('0xb')],'dispensedQuantity':this[_0x40fb('0x2')]()};}}}return{'status':this['state']['status']};}['getInternalState'](){return this[_0x40fb('0xd')];}[_0x40fb('0x26')](){return new Promise((_0x938d0c,_0x21a384)=>{var _0x3049e4=_0xcc5922[_0x40fb('0xc')][_0x40fb('0xf')][_0x40fb('0x5')][_0x40fb('0x10')];_0xcc5922[_0x40fb('0x20')]('changing\x20faucet\x20\x27'+this['id']+_0x40fb('0x22')+_0x3049e4+_0x40fb('0x27'),_0x40fb('0x0'));if(this['state'][_0x40fb('0x5')]==_0x3049e4){_0xcc5922[_0x40fb('0x20')](_0x40fb('0xa')+this['id']+_0x40fb('0x18')+_0x3049e4+'\x27','info');_0x938d0c(![]);}else{this[_0x40fb('0xd')][_0x40fb('0x5')]=_0x3049e4;_0xcc5922[_0x40fb('0x20')]('faucet\x20\x27'+this['id']+_0x40fb('0x1')+_0x3049e4+'\x27',_0x40fb('0x17'));_0xcc5922[_0x40fb('0x19')][_0x40fb('0x1b')](this['id'],_0x40fb('0x4'),{'newStatus':_0x3049e4});_0x938d0c(!![]);}});}[_0x40fb('0x21')](){return new Promise((_0x4e1b9c,_0x2875ee)=>{var _0x301a4d=_0xcc5922[_0x40fb('0xc')][_0x40fb('0xf')][_0x40fb('0x5')][_0x40fb('0x23')];_0xcc5922[_0x40fb('0x20')]('changing\x20faucet\x20\x27'+this['id']+_0x40fb('0x22')+_0x301a4d+_0x40fb('0x27'),_0x40fb('0x0'));if(this[_0x40fb('0xd')][_0x40fb('0x5')]==_0x301a4d){_0xcc5922[_0x40fb('0x20')](_0x40fb('0xa')+this['id']+_0x40fb('0x18')+_0x301a4d+'\x27',_0x40fb('0x17'));_0x4e1b9c(![]);}else{if(this[_0x40fb('0xd')][_0x40fb('0x14')]){var _0x2402fb=_0xcc5922[_0x40fb('0x25')][_0x40fb('0x15')](this['state']['actionTimerIndex']);if(_0x2402fb){clearTimeout(this[_0x40fb('0xd')][_0x40fb('0x13')]);}this['state'][_0x40fb('0x14')]=null;this[_0x40fb('0xd')][_0x40fb('0x13')]=null;}this[_0x40fb('0xd')][_0x40fb('0x5')]=_0x301a4d;_0xcc5922[_0x40fb('0x20')](_0x40fb('0xa')+this['id']+_0x40fb('0x1')+_0x301a4d+'\x27',_0x40fb('0x17'));_0xcc5922[_0x40fb('0x19')][_0x40fb('0x1b')](this['id'],'statusChanged',{'newStatus':_0x301a4d});_0x4e1b9c(!![]);}});}[_0x40fb('0x24')](_0x213989,_0x517070){return new Promise((_0x353218,_0x13e91a)=>{_0xcc5922['log'](_0x40fb('0x11')+this['id']+_0x40fb('0x22')+_0xcc5922[_0x40fb('0xc')][_0x40fb('0xf')]['status'][_0x40fb('0x10')]+'\x27...',_0x40fb('0x0'));if(this['state'][_0x40fb('0x5')]==_0xcc5922['devices']['faucet'][_0x40fb('0x5')][_0x40fb('0x10')]){_0xcc5922[_0x40fb('0x20')]('faucet\x20\x27'+this['id']+_0x40fb('0x18')+_0xcc5922[_0x40fb('0xc')][_0x40fb('0xf')][_0x40fb('0x5')][_0x40fb('0x10')]+'\x27','info');_0x353218(![]);}else{this[_0x40fb('0xd')][_0x40fb('0x12')]=_0x213989;this[_0x40fb('0xd')][_0x40fb('0xb')]=_0x517070;var _0x236cf3=_0xcc5922[_0x40fb('0xc')][_0x40fb('0xf')][_0x40fb('0x9')](_0x213989,_0x517070);var _0x226031=_0x236cf3/_0xcc5922[_0x40fb('0xc')]['faucet'][_0x40fb('0x7')];this[_0x40fb('0xd')][_0x40fb('0x14')]=Date[_0x40fb('0x1f')]()+_0x226031*0x3e8;var _0x357d20=setTimeout(()=>{this[_0x40fb('0xd')][_0x40fb('0x14')]=null;this[_0x40fb('0xd')]['actionTimerIndex']=null;_0xcc5922['log'](_0x40fb('0xa')+this['id']+_0x40fb('0x1')+_0xcc5922[_0x40fb('0xc')][_0x40fb('0xf')][_0x40fb('0x5')][_0x40fb('0x23')]+'\x27',_0x40fb('0x17'));_0xcc5922[_0x40fb('0x19')][_0x40fb('0x1b')](this['id'],'statusChanged',{'newStatus':_0xcc5922[_0x40fb('0xc')][_0x40fb('0xf')][_0x40fb('0x5')][_0x40fb('0x23')]});},_0x226031*0x3e8);this['state']['actionTimerIndex']=_0xcc5922[_0x40fb('0x25')][_0x40fb('0x1a')](_0x357d20);this['state'][_0x40fb('0x5')]=_0xcc5922[_0x40fb('0xc')][_0x40fb('0xf')]['status']['opened'];_0xcc5922[_0x40fb('0x20')](_0x40fb('0xa')+this['id']+'\x27\x20new\x20status\x20is\x20\x27'+this[_0x40fb('0xd')][_0x40fb('0x5')],_0x40fb('0x17'));_0xcc5922[_0x40fb('0x19')][_0x40fb('0x1b')](this['id'],'statusChanged',{'newStatus':this['state'][_0x40fb('0x5')]});_0x353218(!![]);}});}[_0x40fb('0x2')](){if(this[_0x40fb('0xd')][_0x40fb('0x5')]==_0xcc5922[_0x40fb('0xc')]['faucet'][_0x40fb('0x5')][_0x40fb('0x23')]||this[_0x40fb('0xd')]['actionEndBy']&&this['state'][_0x40fb('0x14')]<=Date['now']())return null;else{var _0x262a9f=Math[_0x40fb('0x16')](this[_0x40fb('0xd')]['actionEndBy']-Date[_0x40fb('0x1f')]())/0x3e8;var _0x1820d5=_0x262a9f*_0xcc5922[_0x40fb('0xc')]['faucet']['litersPerSecond'];var _0x30ccc8=_0xcc5922[_0x40fb('0xc')][_0x40fb('0xf')][_0x40fb('0x9')](this[_0x40fb('0xd')][_0x40fb('0x12')],this[_0x40fb('0xd')][_0x40fb('0xb')]);var _0x34cc36=_0x30ccc8-_0x1820d5;return _0xcc5922[_0x40fb('0xc')][_0x40fb('0xf')][_0x40fb('0x1e')](_0x34cc36,this[_0x40fb('0xd')]['unit']);}}[_0x40fb('0x1c')](){return JSON['stringify'](this);}static[_0x40fb('0x9')](_0x3e95c3,_0x549c64){return _0x3e95c3*Math[_0x40fb('0x1d')](0xa,_0xcc5922[_0x40fb('0xc')][_0x40fb('0xf')]['unitExponent'][_0x549c64]);}static[_0x40fb('0x1e')](_0x2a6a1c,_0x42710b){return+(_0x2a6a1c/Math['pow'](0xa,_0xcc5922[_0x40fb('0xc')][_0x40fb('0xf')][_0x40fb('0x6')][_0x42710b]))[_0x40fb('0x8')](0x2);}static get[_0x40fb('0x6')](){return{'ml':-0x3,'cl':-0x2,'dl':-0x1,'l':0x0,'dal':0x1,'hl':0x2,'kl':0x3};}static get[_0x40fb('0x5')](){return{'opened':_0x40fb('0x10'),'closed':_0x40fb('0x23')};}static get[_0x40fb('0x7')](){return 0xc/0x3c;}};return _0x13146c();}};