var _0x1fdc=['deviceLog','fromDto','find','limit','exec','map','skip','join','general','dbName','log','loading\x20device\x20log\x20database\x20[',']...','debug','info','nedb','path','exports','deviceLogs','device_logs.db','models'];(function(_0x3ef394,_0x1404dc){var _0x397f8f=function(_0x5cafad){while(--_0x5cafad){_0x3ef394['push'](_0x3ef394['shift']());}};_0x397f8f(++_0x1404dc);}(_0x1fdc,0xf6));var _0x76a3=function(_0x3b0276,_0x26056c){_0x3b0276=_0x3b0276-0x0;var _0x4b99bc=_0x1fdc[_0x3b0276];return _0x4b99bc;};'use strict';var Datastore=require(_0x76a3('0x0'));var Path=require(_0x76a3('0x1'));module[_0x76a3('0x2')]={'initialize':function(_0x53c2a8,_0x4e00c8){_0x53c2a8[_0x76a3('0x3')]={'dbName':_0x76a3('0x4'),'create':function(_0x526e48){return new Promise((_0x25042a,_0x5830ff)=>{var _0x5c1314=_0x53c2a8[_0x76a3('0x5')][_0x76a3('0x6')]['toDto'](_0x526e48);_0x53c2a8['db'][_0x76a3('0x3')]['insert'](_0x5c1314,(_0x2c9246,_0x140e84)=>{if(_0x2c9246){_0x5830ff(_0x2c9246);}else{_0x25042a(_0x53c2a8[_0x76a3('0x5')][_0x76a3('0x6')][_0x76a3('0x7')](_0x140e84));}});});},'retrieveAll':function(_0x3f4bfd,_0x11997f){return new Promise((_0x4f6028,_0x2e9d5d)=>{_0x53c2a8['db'][_0x76a3('0x3')][_0x76a3('0x8')]({})['skip'](_0x3f4bfd)[_0x76a3('0x9')](_0x11997f)[_0x76a3('0xa')]((_0xc54818,_0x541f2f)=>{if(_0xc54818){_0x2e9d5d(_0xc54818);}else{var _0x17fc39=_0x541f2f[_0x76a3('0xb')](_0x394bb2=>{return _0x53c2a8['models']['deviceLog']['fromDto'](_0x394bb2);});_0x4f6028(_0x17fc39);}});});},'retrieveByDeviceId':function(_0x450ff2,_0x3eeb76,_0x524506){return new Promise((_0xeb29fc,_0x2cb4f3)=>{_0x53c2a8['db'][_0x76a3('0x3')]['find']({'deviceId':_0x450ff2})[_0x76a3('0xc')](_0x3eeb76)[_0x76a3('0x9')](_0x524506)[_0x76a3('0xa')]((_0x33814b,_0x20501b)=>{if(_0x33814b){_0x2cb4f3(_0x33814b);}else{var _0x51b92b=_0x20501b[_0x76a3('0xb')](_0x5dcee3=>{return _0x53c2a8[_0x76a3('0x5')][_0x76a3('0x6')][_0x76a3('0x7')](_0x5dcee3);});_0xeb29fc(_0x51b92b);}});});}};return _0x4e00c8();},'start':function(_0x58b29a,_0xe36dea){var _0x4666d7=Path[_0x76a3('0xd')](_0x58b29a['config'][_0x76a3('0xe')]['paths']['db'][0x0],_0x58b29a[_0x76a3('0x3')][_0x76a3('0xf')]);_0x58b29a[_0x76a3('0x10')](_0x76a3('0x11')+_0x4666d7+_0x76a3('0x12'),_0x76a3('0x13'));_0x58b29a['db']=_0x58b29a['db']||{};_0x58b29a['db']['deviceLogs']=new Datastore({'filename':_0x4666d7,'autoload':!![]});_0x58b29a[_0x76a3('0x10')]('device\x20log\x20database\x20loaded',_0x76a3('0x14'));return _0xe36dea();}};